function spaBlog_printConnectionError(){console.log(spaBlog_connectionErrorLabel)}function spaBlog_getTitle(e){getJSON(e+"?title","get",function(e,n){null==e&&(window.document.title=n)},null)}function spaBlog_getHeader(t,e){getJSON(e+"?header","get",function(e,n){null==e?document.getElementById(t).innerHTML=n:spaBlog_printConnectionError()},null)}function spaBlog_getArticles(i,e,n){getJSON(n+"?articles","post",function(e,n){if(null==e){var t=document.getElementById(i);t.innerHTML="",n.forEach(function(e){t.innerHTML=t.innerHTML+'<div class="article">'+e+"</div>"})}else spaBlog_printConnectionError()},'{"page":'+e+"}")}function spaBlog_getPages(l,e,o){getJSON(e+"?pages","get",function(e,n){if(null==e){var t=document.getElementById(l);t.innerHTML="";for(var i=1;i<=n;i++)t.innerHTML=t.innerHTML+'<a href="#!p='+i+'">'+i+"</a>"}else spaBlog_printConnectionError();o()},null)}function spaBlog_init(){spaBlog_getTitle(spaBlog_apiUrl),spaBlog_getHeader(headerDiv,spaBlog_apiUrl),window.location.hash?spaBlog_getArticles(articlesDiv,window.location.hash.substring(4),spaBlog_apiUrl):spaBlog_getArticles(articlesDiv,1,spaBlog_apiUrl),spaBlog_getPages(pagesDiv,spaBlog_apiUrl,function(){for(var e=document.getElementById(pagesDiv).getElementsByTagName("a"),n=0;n<e.length;n++)e[n].addEventListener("click",function(){spaBlog_getArticles(articlesDiv,this.hash.substring(4),spaBlog_apiUrl)})})}